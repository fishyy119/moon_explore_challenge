# path_msgs

>  最后编辑日期：2025-07-18

该包是路径规划相关的通信接口定义包，提供路径规划算法所需的 ROS 消息与服务数据结构。由于 `colcon` 构建系统不支持在同一包中混合构建 Python 节点与自定义消息，因此将消息定义单独拆分为该独立包。

---

## 消息定义

### [`HPath.msg`](msg/HPath.msg)

自定义路径消息，描述混合 A* 算法规划得到的路径信息：

| 字段名       | 类型                     | 描述                                                         |
| ------------ | ------------------------ | ------------------------------------------------------------ |
| `poses`      | `geometry_msgs/Pose2D[]` | 在路径上以一定步长采样得到的路径点序列，每个点描述了车辆后轴中心的xy坐标与车辆自身的偏航角 |
| `directions` | `bool[]`                 | 相邻路径段的运动方向（`true` 为前进，`false` 为后退）        |

- 两个列表的长度相等，一一对应
- 路径采样步长由配置项 `MOTION_RESOLUTION` 决定

## 服务定义

### [`PathPlanning.srv`](srv/PathPlanning.srv)

路径规划服务接口，允许外部请求规划从起点到终点的路径。

#### 请求参数

| 字段名  | 类型                   | 描述                               |
| ------- | ---------------------- | ---------------------------------- |
| `start` | `geometry_msgs/Pose2D` | 起点位姿，包括 `x`、`y` 和 `theta` |
| `goal`  | `geometry_msgs/Pose2D` | 终点位姿，包括 `x`、`y` 和 `theta` |

- 此处参考点与前面相同，是车辆后轴中心的xy坐标

#### 响应参数

| 字段名    | 类型              | 描述           |
| --------- | ----------------- | -------------- |
| `path`    | `path_msgs/HPath` | 规划得到的路径 |
| `success` | `bool`            | 是否规划成功   |
| `reason`  | `string`          | 错误文本信息   |

